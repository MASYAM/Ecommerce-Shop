{"ast":null,"code":"var _jsxFileName = \"/Users/m.asyam/Desktop/MY-PROJECTS/react-project/client-pack/src/screens/legacy/ClothesDetail/index.js\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport InteractionManager from \"react-native-web/dist/exports/InteractionManager\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport styles from \"./style\";\nimport MapView from \"react-native-map-clustering\";\nimport { Container, Tab, Tabs, Toast, Content, Form, Item, Picker, Button } from 'native-base';\nimport { Actions } from \"react-native-router-flux\";\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport { ThemeSettings, ImageSources, ScreenNames } from \"../../../constants\";\nimport { Basement } from \"../../../components/Basement\";\nimport Carousel, { Pagination } from 'react-native-snap-carousel';\nimport ClothesDetailSlide from \"../../../components/legacy/ClothesDetailSlide\";\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { cartActions } from \"../../../store/actions\";\nimport { productsActions } from \"../../../store/actions\";\nimport { ActionStatusTypeValues } from \"../../../constants/actionStatusTypes\";\nimport { selectViewActionStatus } from \"../../../store/selectors/app\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from \"react-redux\";\nvar {\n  width: viewportWidth,\n  height: viewportHeight\n} = Dimensions.get('window');\n\nclass ClothesDetail extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.backToRoot = () => {\n      var {\n        navigation\n      } = this.props;\n      navigation.pop();\n    };\n\n    this.addToShoppingCart = () => {\n      var productId = this.props.navigation.getParam('productId');\n      console.log(\"Selected Product Id\");\n      console.log(productId);\n      console.log(\"Selected Size\");\n      console.log(this.state.selectedSize);\n      console.log(\"Selected Color\");\n      console.log(this.state.selectedColor);\n\n      if (this.state.selectedColor == undefined || this.state.selectedSize == undefined) {\n        Toast.show({\n          type: \"danger\",\n          text: 'Please select the size and color first'\n        });\n      } else {\n        var {\n          cartActions: _cartActions,\n          navigation\n        } = this.props;\n\n        var _productId = this.props.navigation.getParam('productId');\n\n        _cartActions.addToCart(navigation.state.key, _productId, this.state.smallImage, this.state.productName, this.state.selectedColor, this.state.selectedSize, this.state.productPrice);\n\n        Toast.show({\n          type: \"success\",\n          text: \"Added to Shopping Cart\"\n        });\n      }\n    };\n\n    this.onPress = () => {\n      this.props.navigation.navigate(ScreenNames.ShoppingCart);\n    };\n\n    this._renderClothesDetail = (_ref) => {\n      var {\n        item,\n        index\n      } = _ref;\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }\n      }, React.createElement(ClothesDetailSlide, {\n        Adimage: item.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    this.renderColorList = () => {\n      return this.state.color.map((item, key) => {\n        return React.createElement(Picker.Item, {\n          key: key,\n          label: item.id,\n          value: item.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }\n        });\n      });\n    };\n\n    this.renderSizeList = () => {\n      return this.state.size.map((item, key) => {\n        return React.createElement(Picker.Item, {\n          key: key,\n          label: item.id,\n          value: item.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }\n        });\n      });\n    };\n\n    this.renderStar = () => {\n      var startList = [];\n\n      for (var i = 0; i < this.state.starLevel; i++) {\n        startList.push(React.createElement(Icon, {\n          key: i,\n          style: styles.rankingIcon,\n          size: 15,\n          name: \"star\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 22\n          }\n        }));\n      }\n\n      return startList;\n    };\n\n    this.state = {\n      isLoading: true,\n      lastRequest: 0,\n      lastSent: 0,\n      modalVisible: true,\n      isShowAlert: false,\n      selectedColor: undefined,\n      selectedSize: undefined,\n      isAddToCart: false,\n      slider1ActiveSlide: 0,\n      productName: '',\n      productPrice: '',\n      starLevel: 0,\n      isOutOfStock: false,\n      color: [],\n      size: [],\n      smallImage: null,\n      productDetailImages: []\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.productDetailImages.length == 0) {\n      var {\n        productsActions: _productsActions,\n        navigation\n      } = this.props;\n      var productId = this.props.navigation.getParam('productId');\n\n      _productsActions.getProductDetail(navigation.state.key, productId);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    var {\n      props,\n      state\n    } = this;\n\n    if (state.lastRequest !== props.productDetailRequest.lastRequest) {\n      if (props.productDetailRequest.status === ActionStatusTypeValues.ERROR) {\n        this.setState({\n          isLoading: false,\n          lastRequest: props.productDetailRequest.lastRequest\n        }, () => {\n          Toast.show({\n            type: \"danger\",\n            text: \"Sorry, it seems you are facing some technical problem. Please contact IT Support.\"\n          });\n        });\n      } else if (props.productDetailRequest.status === ActionStatusTypeValues.COMPLETED) {\n        console.log(this.props.productDetailStatus);\n        console.log(this.props.productDetailErrorMessage);\n\n        if (this.props.productDetailStatus === \"success\") {\n          this.setState({\n            isLoading: false,\n            lastRequest: props.productDetailRequest.lastRequest,\n            smallImage: this.props.productDetail.thumbail,\n            productName: this.props.productDetail.name,\n            productPrice: this.props.productDetail.price,\n            starLevel: this.props.productDetail.starLevel,\n            isOutOfStock: this.props.productDetail.isOutOfStock,\n            color: this.props.productDetail.color,\n            size: this.props.productDetail.size,\n            size: this.props.productDetail.size,\n            productDetailImages: this.props.productDetail.images\n          }, () => {});\n        } else {\n          this.setState({\n            isLoading: false,\n            isShowAlert: true,\n            lastRequest: props.productDetailRequest.lastRequest\n          }, () => {});\n        }\n      }\n    }\n  }\n\n  onValueChangeColor(value) {\n    this.setState({\n      selectedColor: value\n    });\n  }\n\n  onValueChangeSize(value) {\n    this.setState({\n      selectedSize: value\n    });\n  }\n\n  render() {\n    var {\n      props\n    } = this;\n    var isCompleteSubmit = props.productDetailRequest.status === ActionStatusTypeValues.COMPLETED;\n    var productDetailStatus = props.productDetailStatus;\n    var productDetailErrorMessage = props.productDetailErrorMessage;\n    return React.createElement(Basement, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: styles.body,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 15\n      }\n    }, React.createElement(View, {\n      style: styles.promotionBannerContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 2\n      }\n    }, React.createElement(Carousel, {\n      ref: c => this._slider1Ref = c,\n      data: this.state.productDetailImages,\n      renderItem: this._renderClothesDetail,\n      sliderWidth: viewportWidth,\n      itemWidth: viewportWidth,\n      hasParallaxImages: true,\n      loop: true,\n      firstItem: 1,\n      autoplay: true,\n      loopClonesPerSide: 2,\n      containerCustomStyle: styles.slider,\n      autoplayInterval: 5000,\n      onSnapToItem: index => this.setState({\n        slider1ActiveSlide: index\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 4\n      }\n    }), React.createElement(Pagination, {\n      dotsLength: this.state.productDetailImages.length,\n      activeDotIndex: this.state.slider1ActiveSlide,\n      containerStyle: styles.paginationContainer,\n      dotColor: 'rgba(255, 255, 255, 0.92)',\n      dotStyle: styles.paginationDot,\n      inactiveDotColor: '#646260',\n      inactiveDotOpacity: 0.9,\n      inactiveDotScale: 0.8,\n      activeOpacity: 1.0,\n      carouselRef: this._slider1Ref,\n      tappableDots: !!this._slider1Ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 1\n      }\n    })), React.createElement(View, {\n      style: styles.menubuttoncontainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 25\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: () => Actions.pop(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 33\n      }\n    }, React.createElement(View, {\n      style: styles.menucontainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 37\n      }\n    }, React.createElement(Image, {\n      source: ImageSources.LeftArrow,\n      style: {\n        width: 15,\n        height: 15\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 41\n      }\n    }))))), React.createElement(View, {\n      style: styles.bottomLayer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 1\n      }\n    }, React.createElement(Text, {\n      style: styles.productName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 1\n      }\n    }, this.state.productName), React.createElement(Text, {\n      style: styles.productPrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 1\n      }\n    }, \"USD$\", this.state.productPrice), React.createElement(View, {\n      style: styles.rankingContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 1\n      }\n    }, React.createElement(View, {\n      style: styles.productRanking,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }\n    }, this.renderStar())), React.createElement(Form, {\n      style: {\n        width: '80%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 1\n      }\n    }, React.createElement(Item, {\n      style: {\n        borderBottomColor: 'transparent'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: {\n        borderRadius: 10,\n        borderWidth: 1,\n        borderColor: '#bdc3c7',\n        backgroundColor: 'white',\n        overflow: 'hidden',\n        marginRight: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 13\n      }\n    }, React.createElement(Picker, {\n      mode: \"dropdown\",\n      iosIcon: React.createElement(Icon, {\n        style: styles.arrowDownIcon,\n        name: \"angle-down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 32\n        }\n      }),\n      style: styles.detailPicker,\n      placeholder: \"Size\",\n      placeholderStyle: styles.pickerTextStyle,\n      placeholderIconColor: \"#007aff\",\n      selectedValue: this.state.selectedSize,\n      onValueChange: this.onValueChangeSize.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 21\n      }\n    }, this.renderColorList())), React.createElement(View, {\n      style: {\n        borderRadius: 10,\n        borderWidth: 1,\n        borderColor: '#bdc3c7',\n        backgroundColor: 'white',\n        overflow: 'hidden'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 15\n      }\n    }, React.createElement(Picker, {\n      mode: \"dropdown\",\n      iosIcon: React.createElement(Icon, {\n        style: styles.arrowDownIcon,\n        name: \"angle-down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 28\n        }\n      }),\n      style: styles.detailPicker,\n      placeholder: \"Color\",\n      placeholderStyle: styles.pickerTextStyle,\n      placeholderIconColor: \"#007aff\",\n      selectedValue: this.state.selectedColor,\n      onValueChange: this.onValueChangeColor.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }\n    }, this.renderSizeList())))), React.createElement(Button, {\n      transparent: true,\n      full: true,\n      style: styles.btnShoppingCart,\n      onPress: this.addToShoppingCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }\n    }, React.createElement(View, {\n      style: styles.shopIconContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 29\n      }\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 68\n      }\n    }, React.createElement(Icon, {\n      style: styles.shoppingIcon,\n      size: 15,\n      name: \"shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 74\n      }\n    }))), React.createElement(Text, {\n      style: styles.btnShoppingCartText,\n      large: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 29\n      }\n    }, \"Add to Bag\"))), this.state.isLoading ? React.createElement(View, {\n      style: styles.loadingDialog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }\n    }, React.createElement(ActivityIndicator, {\n      style: styles.loadingStyle,\n      size: \"large\",\n      color: 'white',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 22\n      }\n    })) : null, this.state.isShowAlert ? React.createElement(View, {\n      style: styles.registerSuccessDialog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: styles.sucessWordingsContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 22\n      }\n    }, React.createElement(Text, {\n      style: styles.errorHeading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 29\n      }\n    }, \"Error\"), React.createElement(Text, {\n      style: styles.sucessDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 29\n      }\n    }, productDetailErrorMessage), React.createElement(Button, {\n      transparent: true,\n      full: true,\n      style: styles.btnLogonNow,\n      onPress: this.backToRoot,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 29\n      }\n    }, React.createElement(Text, {\n      style: styles.btnLogonNowTextStyle,\n      large: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 33\n      }\n    }, \"Close\")))) : null);\n  }\n\n}\n\nvar mapStateToProps = (state, ownProps) => {\n  var {\n    navigation\n  } = ownProps;\n  return {\n    productDetail: state.products.productDetail,\n    productDetailStatus: state.products.productDetailStatus,\n    productDetailErrorMessage: state.products.productDetailErrorMessage,\n    productDetailRequest: selectViewActionStatus(state, navigation.state.key, productsActions.PRODUCT_DETAIL)\n  };\n};\n\nvar mapDispatchToProps = dispatch => {\n  return {\n    productsActions: bindActionCreators(productsActions, dispatch),\n    cartActions: bindActionCreators(cartActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ClothesDetail);","map":{"version":3,"sources":["/Users/m.asyam/Desktop/MY-PROJECTS/react-project/client-pack/src/screens/legacy/ClothesDetail/index.js"],"names":["React","styles","MapView","Container","Tab","Tabs","Toast","Content","Form","Item","Picker","Button","Actions","Icon","ThemeSettings","ImageSources","ScreenNames","Basement","Carousel","Pagination","ClothesDetailSlide","ScrollView","cartActions","productsActions","ActionStatusTypeValues","selectViewActionStatus","bindActionCreators","connect","width","viewportWidth","height","viewportHeight","Dimensions","get","ClothesDetail","Component","constructor","props","backToRoot","navigation","pop","addToShoppingCart","productId","getParam","console","log","state","selectedSize","selectedColor","undefined","show","type","text","addToCart","key","smallImage","productName","productPrice","onPress","navigate","ShoppingCart","_renderClothesDetail","item","index","image","renderColorList","color","map","id","value","renderSizeList","size","renderStar","startList","i","starLevel","push","rankingIcon","isLoading","lastRequest","lastSent","modalVisible","isShowAlert","isAddToCart","slider1ActiveSlide","isOutOfStock","productDetailImages","componentDidMount","length","getProductDetail","componentDidUpdate","prevProps","productDetailRequest","status","ERROR","setState","COMPLETED","productDetailStatus","productDetailErrorMessage","productDetail","thumbail","name","price","images","onValueChangeColor","onValueChangeSize","render","isCompleteSubmit","body","promotionBannerContainer","c","_slider1Ref","slider","paginationContainer","paginationDot","menubuttoncontainer","menucontainer","LeftArrow","bottomLayer","rankingContainer","productRanking","borderBottomColor","borderRadius","borderWidth","borderColor","backgroundColor","overflow","marginRight","arrowDownIcon","detailPicker","pickerTextStyle","bind","btnShoppingCart","shopIconContainer","shoppingIcon","btnShoppingCartText","loadingDialog","loadingStyle","registerSuccessDialog","sucessWordingsContainer","errorHeading","sucessDescription","btnLogonNow","btnLogonNowTextStyle","mapStateToProps","ownProps","products","PRODUCT_DETAIL","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n    View,\n    Text,\n    TouchableOpacity,\n    Image,\n    Platform,\n    InteractionManager,\n    SafeAreaView,\n    Dimensions,\n    ActivityIndicator\n} from 'react-native';\nimport styles from './style';\nimport MapView from \"react-native-map-clustering\";\nimport {\n    Container,\n    Tab,\n    Tabs,\n    Toast,\n    Content, Form, Item, Picker, Button\n} from 'native-base';\n\nimport { Actions } from \"react-native-router-flux\";\nimport Icon from 'react-native-vector-icons/FontAwesome';\nimport { ThemeSettings, ImageSources, ScreenNames } from '../../../constants';\nimport { Basement } from '../../../components/Basement';\nimport Carousel, { Pagination } from 'react-native-snap-carousel';\nimport ClothesDetailSlide from '../../../components/legacy/ClothesDetailSlide';\nimport { ScrollView } from 'react-native-gesture-handler';\n\n\n\nimport { cartActions } from  '../../../store/actions';\n\nimport { productsActions } from  '../../../store/actions';\nimport { ActionStatusTypeValues } from '../../../constants/actionStatusTypes';\nimport { selectViewActionStatus } from '../../../store/selectors/app';\nimport { bindActionCreators } from 'redux';\nimport { connect } from \"react-redux\";\n\nconst { width: viewportWidth, height: viewportHeight } = Dimensions.get('window');\n\ntype OwnProps = {\n    navigation: NavigationProp;\n}\n\ntype Props = OwnProps & {\n    productDetailRequest: ViewActionStateInfo,\n    productsActions: typeof productsActions,\n    cartActions: typeof cartActions,\n}\nclass ClothesDetail extends React.Component<Props> {\n    constructor(props) {\n        super(props);\n        this.state = { \n          isLoading:true,\n          lastRequest:0,\n          lastSent: 0,\n          modalVisible:true,\n          isShowAlert:false,\n            selectedColor: undefined,\n            selectedSize: undefined,\n            isAddToCart:false,\n            slider1ActiveSlide:0,\n            productName:'',\n            productPrice:'',\n            starLevel:0,\n            isOutOfStock:false,\n            color:[],\n            size:[],\n            smallImage:null,\n            productDetailImages:[]\n        };\n    }\n    backToRoot=() =>{\n      const { navigation} = this.props;\n      navigation.pop();\n  }\n\n    componentDidMount () {\n      if(this.state.productDetailImages.length == 0){\n          const { productsActions, navigation } = this.props;\n          const productId =  this.props.navigation.getParam('productId');\n          productsActions.getProductDetail(navigation.state.key,productId);\n      }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { props, state } = this;\n    if (state.lastRequest !== props.productDetailRequest.lastRequest) {\n        if (props.productDetailRequest.status === ActionStatusTypeValues.ERROR) {\n            this.setState({\n                isLoading: false,\n                lastRequest: props.productDetailRequest.lastRequest,\n            }, () => {\n                Toast.show({\n                    type: \"danger\",\n                    text:\"Sorry, it seems you are facing some technical problem. Please contact IT Support.\"\n                })\n            });\n        }\n        else if (props.productDetailRequest.status === ActionStatusTypeValues.COMPLETED) {\n            console.log(this.props.productDetailStatus);\n            console.log(this.props.productDetailErrorMessage);\n            if(this.props.productDetailStatus===\"success\"){\n\n                this.setState({\n                    isLoading: false,\n                    lastRequest: props.productDetailRequest.lastRequest,\n                    smallImage: this.props.productDetail.thumbail,\n                    productName: this.props.productDetail.name,\n                    productPrice: this.props.productDetail.price,\n                    starLevel: this.props.productDetail.starLevel,\n                    isOutOfStock: this.props.productDetail.isOutOfStock,\n                    color: this.props.productDetail.color,\n                    size: this.props.productDetail.size,\n                    size: this.props.productDetail.size,\n                    productDetailImages: this.props.productDetail.images,\n                }, () => {\n\n                });\n\n            }else{\n                this.setState({\n                    isLoading: false,\n                    isShowAlert:true,\n                    lastRequest: props.productDetailRequest.lastRequest,\n                }, () => {\n                });\n            }\n        }\n\n        \n    }\n}\n\n    addToShoppingCart = () => {\n      const productId =  this.props.navigation.getParam('productId');\n      console.log(\"Selected Product Id\");\n      console.log(productId);\n      console.log(\"Selected Size\");\n      console.log(this.state.selectedSize);\n      console.log(\"Selected Color\");\n      console.log(this.state.selectedColor);\n\n          if (  (this.state.selectedColor == undefined ) ||  (this.state.selectedSize == undefined )) {\n            Toast.show({\n                type: \"danger\",\n                text: 'Please select the size and color first',\n            });\n          }\n          else{\n              \n              // this.props.navigation.navigate(ScreenNames.ShoppingCart, {\n              //   'productId': productId,\n              //   'size': this.state.selectedSize,\n              //   'color': this.state.selectedColor,\n              // });\n\n\n              const { cartActions,  navigation } = this.props;\n              const productId =  this.props.navigation.getParam('productId');\n              cartActions.addToCart(navigation.state.key, productId,  this.state.smallImage, this.state.productName, this.state.selectedColor , this.state.selectedSize , this.state.productPrice);\n\n\n\n              Toast.show({\n                type: \"success\",\n                text:\"Added to Shopping Cart\"\n              });\n\n\n          }\n    }\n\n    onValueChangeColor(value: string) {\n        this.setState({\n          selectedColor: value\n        });\n      }\n    onValueChangeSize(value: string) {\n        this.setState({\n          selectedSize: value\n        });\n      }\n     \n    onPress = () => {\n            this.props.navigation.navigate(ScreenNames.ShoppingCart);\n    }\n    _renderClothesDetail = ({item, index}) => {\n        return (\n                <View>\n                <ClothesDetailSlide\n                    Adimage={item.image}\n                />\n                </View>\n        );\n    }\n\n    renderColorList =()=> {\n      return this.state.color.map((item, key) => {\n          return (\n              <Picker.Item  key={key} label={item.id} value={item.value} />\n          );\n      });\n  }\n\n  renderSizeList =()=> {\n    return this.state.size.map((item, key) => {\n        return (\n            <Picker.Item  key={key} label={item.id} value={item.value} />\n        );\n    });\n}\n\n  renderStar =()=> {\n    let startList = []\n    for (let i = 0; i < this.state.starLevel; i++) {\n      startList.push(<Icon key={i} style={styles.rankingIcon} size={15} name=\"star\" />)\n    }\n    return startList;\n  }\n\n\n\n\n    render() {\n\n      const { props } = this;\n      const isCompleteSubmit = props.productDetailRequest.status === ActionStatusTypeValues.COMPLETED;\n      const productDetailStatus = props.productDetailStatus;\n      const productDetailErrorMessage = props.productDetailErrorMessage;\n\n    \n        return (\n            <Basement>\n              <View style={styles.body}>\n <View style={styles.promotionBannerContainer}>\n   <Carousel\n                    ref={c => this._slider1Ref = c}\n                            data={this.state.productDetailImages}\n                            renderItem={this._renderClothesDetail}\n                            sliderWidth={viewportWidth}\n                            itemWidth={viewportWidth}\n                            hasParallaxImages={true}\n                            loop={true}\n                            firstItem={1}\n                            autoplay={true}\n                            loopClonesPerSide={2}        \n                            containerCustomStyle={styles.slider}\n                            autoplayInterval={5000}\n                            onSnapToItem={(index) => this.setState({ slider1ActiveSlide: index }) }\n                            />\n<Pagination\n                  dotsLength={this.state.productDetailImages.length}\n                  activeDotIndex={this.state.slider1ActiveSlide}\n                  containerStyle={styles.paginationContainer}\n                  dotColor={'rgba(255, 255, 255, 0.92)'}\n                  dotStyle={styles.paginationDot}\n                  inactiveDotColor={'#646260'}\n                  inactiveDotOpacity={0.9}\n                  inactiveDotScale={0.8}\n                  activeOpacity={1.0}\n                  carouselRef={this._slider1Ref}\n                  tappableDots={!!this._slider1Ref}\n                />\n</View>\n                        <View style={styles.menubuttoncontainer}>\n                                <TouchableOpacity onPress={() => Actions.pop()}>\n                                    <View style={styles.menucontainer}>\n                                        <Image source={ImageSources.LeftArrow} style={{ width: 15, height: 15, }} />\n                                    </View>\n                                </TouchableOpacity>\n                        </View>\n                </View>\n<View style={styles.bottomLayer}>\n<Text style={styles.productName}>{this.state.productName}</Text>\n<Text style={styles.productPrice}>USD${this.state.productPrice}</Text>\n<View style={styles.rankingContainer}>\n        <View style={styles.productRanking}> \n\n              {this.renderStar()}\n\n\n\n      \n        </View>\n</View>\n<Form style={{width:'80%'}}>\n            <Item style={{borderBottomColor:'transparent'}}>\n            <View style={{borderRadius: 10, borderWidth: 1, borderColor: '#bdc3c7', backgroundColor:'white', overflow: 'hidden', marginRight:10}}>\n                    <Picker\n                      mode=\"dropdown\"\n                      iosIcon={<Icon style={styles.arrowDownIcon} name=\"angle-down\" />}\n                      style={styles.detailPicker}\n                      placeholder=\"Size\"\n                      placeholderStyle={styles.pickerTextStyle}\n                      placeholderIconColor=\"#007aff\"\n                      selectedValue={this.state.selectedSize}\n                      onValueChange={this.onValueChangeSize.bind(this)}\n                    >\n                  {this.renderColorList()}\n                    </Picker>\n              </View>\n              <View style={{borderRadius: 10, borderWidth: 1, borderColor: '#bdc3c7', backgroundColor:'white', overflow: 'hidden'}}>\n                <Picker\n                  mode=\"dropdown\"\n                  iosIcon={<Icon  style={styles.arrowDownIcon} name=\"angle-down\" />}\n                  style={styles.detailPicker}\n                  placeholder=\"Color\"\n                  placeholderStyle={styles.pickerTextStyle}\n                  placeholderIconColor=\"#007aff\"\n                  selectedValue={this.state.selectedColor}\n                  onValueChange={this.onValueChangeColor.bind(this)}\n                >\n                {this.renderSizeList()}\n                </Picker>\n              </View>\n\n            </Item>\n          </Form>\n          <Button transparent full  style={styles.btnShoppingCart} onPress={this.addToShoppingCart}>\n                            <View style={styles.shopIconContainer}><Text><Icon  style={styles.shoppingIcon} size={15} name=\"shopping-cart\" /></Text></View>\n                            <Text style={styles.btnShoppingCartText} large>Add to Bag</Text>\n                        </Button>\n                    </View>\n\n\n                    {this.state.isLoading ? (\n            <View style={styles.loadingDialog}>\n                     <ActivityIndicator style={styles.loadingStyle} size=\"large\" color={'white'} />\n            </View>\n        ) : null}\n\n          \n          \n          \n          { this.state.isShowAlert  ? (\n            <View style={styles.registerSuccessDialog} >\n                     <View style={styles.sucessWordingsContainer}>\n                            <Text style={styles.errorHeading}>Error</Text>\n                            <Text style={styles.sucessDescription}>{productDetailErrorMessage}</Text>\n                            <Button transparent full style={styles.btnLogonNow} onPress={this.backToRoot}>\n                                <Text style={styles.btnLogonNowTextStyle} large>Close</Text>\n                            </Button> \n                     </View>\n               \n            </View>\n        ) : null}\n\n\n        \n            </Basement> \n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps: OwnProps) => {\n  const { navigation } = ownProps;\n  return {\n      productDetail: state.products.productDetail,\n      productDetailStatus: state.products.productDetailStatus,\n      productDetailErrorMessage: state.products.productDetailErrorMessage,\n      productDetailRequest: selectViewActionStatus(state, navigation.state.key, productsActions.PRODUCT_DETAIL),\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    productsActions: bindActionCreators(productsActions, dispatch),\n    cartActions: bindActionCreators(cartActions, dispatch),      \n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ClothesDetail);"]},"metadata":{},"sourceType":"module"}